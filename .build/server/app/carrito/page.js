(()=>{var e={};e.id=707,e.ids=[707],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6478:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(5667),s(9289),s(5866);var r=s(3191),t=s(8716),i=s(7922),n=s.n(i),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(a,l);let d=["",{children:["carrito",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5667)),"/home/ubuntu/universo_hogara/nextjs_space/src/app/carrito/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9289)),"/home/ubuntu/universo_hogara/nextjs_space/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/universo_hogara/nextjs_space/src/app/carrito/page.tsx"],h="/carrito/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/carrito/page",pathname:"/carrito",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6665:(e,a,s)=>{Promise.resolve().then(s.bind(s,2341))},6333:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2341:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>N});var r=s(326),t=s(7577),i=s(9546),n=s(645),o=s(434),l=s(6226),d=s(4891),c=s(1664),h=s(4565),x=s(6333),m=s(2881);let u=(0,m.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),g=(0,m.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=(0,m.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),j=(0,m.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var v=s(4876),y=s(8852),f=s(4097),b=s(9194);function N(){let{cartItems:e,updateQuantity:a,removeFromCart:s,clearCart:m,getCartTotal:N}=(0,b.j)(),{toast:w}=(0,f.p)(),[k,_]=(0,t.useState)(!1),P=(e,a)=>{s(e,a),w({title:"Producto eliminado",description:"El producto se ha eliminado del carrito"})},z=async()=>{_(!0);try{let a=await fetch("/api/stripe/create-product-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e,origin:window.location.origin})}),s=await a.json();if(!a.ok)throw Error(s.error||"Error al procesar el pago");s.url&&(window.location.href=s.url)}catch(e){w({title:"Error",description:e.message||"No se pudo procesar el pago. Por favor, int\xe9ntalo de nuevo.",variant:"destructive"}),_(!1)}};return 0===e.length?(0,r.jsxs)("div",{className:"min-h-screen",children:[r.jsx(i.h,{}),r.jsx("main",{className:"section-padding bg-gradient-to-br from-white to-hogara-pink/5",children:r.jsx("div",{className:"container max-w-2xl text-center py-20",children:(0,r.jsxs)(d.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-hogara-pink/20 mb-6",children:r.jsx(h.Z,{className:"w-12 h-12 text-hogara-gold"})}),r.jsx("h1",{className:"text-3xl font-heading font-medium text-hogara-gray mb-4",children:"Tu carrito est\xe1 vac\xedo"}),r.jsx("p",{className:"text-lg text-hogara-gray/70 mb-8",children:"Descubre nuestra colecci\xf3n y a\xf1ade tus productos favoritos"}),r.jsx(o.default,{href:"/tienda",children:(0,r.jsxs)(c.z,{size:"lg",className:"bg-hogara-gold hover:bg-hogara-gold/90",children:[r.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Ir a la tienda"]})})]})})}),r.jsx(n.$,{})]}):(0,r.jsxs)("div",{className:"min-h-screen",children:[r.jsx(i.h,{}),r.jsx("main",{className:"section-padding bg-gradient-to-br from-white to-hogara-pink/5",children:(0,r.jsxs)("div",{className:"container max-w-6xl",children:[r.jsx("div",{className:"mb-12",children:(0,r.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,r.jsxs)(o.default,{href:"/tienda",className:"inline-flex items-center text-hogara-gold hover:text-hogara-gold/80 mb-4",children:[r.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Seguir comprando"]}),r.jsx("h1",{className:"text-4xl lg:text-5xl font-heading font-medium text-hogara-gray mb-4",children:"Tu Carrito"}),(0,r.jsxs)("p",{className:"text-lg text-hogara-gray/70",children:[e.length," ",1===e.length?"producto":"productos"," en tu carrito"]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[e.map((e,s)=>{let t=y.RB.find(a=>a.id===e.productId);if(!t)return null;let i=e.variantId?t.variants?.find(a=>a.id===e.variantId):null,n=i?i.price:t.price,o=i?`${t.name} - ${i.name}`:t.name;return r.jsx(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*s},className:"bg-white rounded-xl p-6 shadow-sm border border-hogara-gray/10",children:(0,r.jsxs)("div",{className:"flex gap-6",children:[r.jsx("div",{className:"relative w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:r.jsx(l.default,{src:t.images[0],alt:t.name,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-heading text-lg font-medium text-hogara-gray mb-1 truncate",children:o}),(0,r.jsxs)("p",{className:"text-sm text-hogara-gray/60 mb-4",children:[n.toFixed(2),"€ \xd7 ",e.quantity]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(c.z,{size:"icon",variant:"outline",className:"w-8 h-8",onClick:()=>a(e.productId,e.variantId,-1),children:r.jsx(u,{className:"w-4 h-4"})}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.quantity}),r.jsx(c.z,{size:"icon",variant:"outline",className:"w-8 h-8",onClick:()=>a(e.productId,e.variantId,1),children:r.jsx(g,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"font-semibold text-hogara-gray",children:[(n*e.quantity).toFixed(2),"€"]}),r.jsx(c.z,{size:"icon",variant:"ghost",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>P(e.productId,e.variantId),children:r.jsx(p,{className:"w-4 h-4"})})]})]})]})]})},`${e.productId}-${e.variantId||"default"}`)}),(0,r.jsxs)(c.z,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-50 border-red-200",onClick:()=>{m(),w({title:"Carrito vaciado",description:"Todos los productos han sido eliminados"})},children:[r.jsx(p,{className:"w-4 h-4 mr-2"}),"Vaciar carrito"]})]}),r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border border-hogara-gray/10 sticky top-8",children:[r.jsx("h2",{className:"text-2xl font-heading font-medium text-hogara-gray mb-6",children:"Resumen"}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between text-hogara-gray/70",children:[r.jsx("span",{children:"Subtotal"}),(0,r.jsxs)("span",{children:[N().toFixed(2),"€"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-hogara-gray/70",children:[r.jsx("span",{children:"Env\xedo"}),r.jsx("span",{children:"Calculado en el checkout"})]}),r.jsx("div",{className:"border-t border-hogara-gray/10 pt-4",children:(0,r.jsxs)("div",{className:"flex justify-between text-xl font-semibold text-hogara-gray",children:[r.jsx("span",{children:"Total"}),(0,r.jsxs)("span",{children:[N().toFixed(2),"€"]})]})})]}),r.jsx(c.z,{size:"lg",className:"w-full bg-hogara-gold hover:bg-hogara-gold/90 mb-4",onClick:z,disabled:k,children:k?(0,r.jsxs)(r.Fragment,{children:[r.jsx(j,{className:"w-4 h-4 mr-2 animate-spin"}),"Procesando..."]}):"Proceder al pago"}),r.jsx(o.default,{href:"/tienda",children:r.jsx(c.z,{variant:"outline",size:"lg",className:"w-full",children:"Continuar comprando"})}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-hogara-gray/10 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-hogara-gray/70",children:[r.jsx(v.Z,{className:"w-4 h-4 mr-2 text-hogara-pink"}),"Env\xedo seguro y cuidado"]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-hogara-gray/70",children:[r.jsx(h.Z,{className:"w-4 h-4 mr-2 text-hogara-pink"}),"Embalaje artesanal"]})]})]})})]})]})}),r.jsx(n.$,{})]})}},5667:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/home/ubuntu/universo_hogara/nextjs_space/src/app/carrito/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[975,624,963,962],()=>s(6478));module.exports=r})();